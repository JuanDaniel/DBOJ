{% extends 'BackendBundle::layout.html.twig' %}

{% block stylesheets %}
{{ parent() }}
<!-- CKEDITOR -->
<link rel="stylesheet" type="text/css" href="{{ asset('bundles/backend/js/ckeditor/_samples/sample.css') }}" />
{% endblock %}
{% block content %}
<!-- PAGE HEADER-->
<div class="row">
    <div class="col-sm-12">
        {% include 'CommonBundle:Extras:page_header.html.twig'%}
    </div>
</div>
<!-- /PAGE HEADER -->
<div class="row">
    <div class="col-md-12">
        <!-- BOX -->
        <div class="box border green">
            <div class="box-title">
                <h4><i class="fa fa-table"></i>Editar problema</h4>
            </div>
            <div class="box-body">
                <form action="{{ path('problem_update', {'id': entity.id}) }}" method="POST">
                    <div class="row">
                        <div class="col-md-6 ">
                            <div class="form-group">
                                {{ form_errors(edit_form.title) }}
                                <label for="">Título</label>
                                {{ form_widget(edit_form.title) }}
                            </div>                            
                            <div class="form-group">
                                {{ form_errors(edit_form.solution) }}
                                <label for="">Solución maestra</label>
                                {{ form_widget(edit_form.solution) }}
                            </div>                             
                            <div class="form-group">
                                {{ form_errors(edit_form.fileSql) }}
                                <label for="">Esquema de la base de datos</label>
                                {{ form_widget(edit_form.fileSql) }}
                            </div>
                        </div>
                        <div class="col-md-6">  
                            <div class="form-group">
                                {{ form_errors(edit_form.time) }}
                                <label for="">Tiempo de ejecución</label>
                                {{ form_widget(edit_form.time) }}
                            </div>
                            <div class="form-group">
                                {{ form_errors(edit_form.memory) }}
                                <label for="">Memoria consumida</label>
                                {{ form_widget(edit_form.memory) }}
                            </div>
                            <div class="form-group">
                                {{ form_errors(edit_form.state) }}
                                <label for="">Estado</label>
                                {{ form_widget(edit_form.state) }}
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                {{ form_errors(edit_form.description) }}
                                <label for="">Descripción</label>
                                {{ form_widget(edit_form.description) }}
                            </div>
                        </div>
                    </div>                    
                    <div class="row">
                        <div class="col-md-12">
                            <a href="{{path('problem')}}" class="btn btn-primary pull-right">Cerrar</a> 
                            <button type="submit" class="btn btn-primary pull-right">Actualizar</button>
                            {{ form_widget(edit_form._token) }}
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<div class="footer-tools">
    <span class="go-top">
        <i class="fa fa-chevron-up"></i> Top
    </span>
</div>
{% endblock %}
{% block javascripts_owner %}
<script src="{{ asset('bundles/backend/js/ckeditor/ckeditor.js') }}"></script>
<script src="{{ asset('bundles/backend/js/ckfinder/ckfinder.js') }}"></script>
<script src="{{ asset('bundles/backend/js/ckeditor/_samples/sample.js') }}"></script>
<script type="text/javascript">
    $(document).ready(function() {
        var editor = CKEDITOR.replace('dboj_problembundle_problem_description');
        CKFinder.setupCKEditor(editor, 'ckfinder/');
    });
</script>
{% endblock %}

